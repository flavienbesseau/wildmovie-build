{"ast":null,"code":"import _classCallCheck from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import axios from\"axios\";import SearchBar from\"./SearchBar\";import keyApi from\"../const/apiKey\";import Movie from\"./Movie\";import Footer from\"./Footer\";import{Container,Div}from\"../style/SearchPageCss\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(props){var _this;_classCallCheck(this,Search);_this=_super.call(this,props);_this.searchMovie=function(searchText){var preLien=\"https://api.themoviedb.org/3/search/movie?api_key=\";var url=\"\".concat(preLien).concat(keyApi,\"&language=en-US&query=\").concat(searchText,\"&page=1&include_adult=false\");if(searchText){axios.get(\"\".concat(url)).then(function(response){_this.setState({searchedMovie:response.data.results});});}};_this.state={searchedMovie:null};return _this;}_createClass(Search,[{key:\"render\",value:function render(){var searchedMovie=this.state.searchedMovie;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchBar,{callback:this.searchMovie,searchedMovie:searchedMovie}),!searchedMovie?/*#__PURE__*/_jsx(Div,{children:\" \"}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{children:searchedMovie.map(function(item){return/*#__PURE__*/_jsx(Movie,{posterPath:item.poster_path,title:item.title,id:item.id});})})}),/*#__PURE__*/_jsx(Footer,{style:{position:\"absolute\",bottom:\"0\"}})]});}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/src/components/Search.jsx"],"names":["React","Component","axios","SearchBar","keyApi","Movie","Footer","Container","Div","Search","props","searchMovie","searchText","preLien","url","get","then","response","setState","searchedMovie","data","results","state","map","item","poster_path","title","id","position","bottom"],"mappings":"4yBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,SAAT,CAAoBC,GAApB,KAA+B,wBAA/B,C,GAEMC,CAAAA,M,gGACJ,gBAAYC,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EADiB,MAKnBC,WALmB,CAKL,SAACC,UAAD,CAAgB,CAC5B,GAAMC,CAAAA,OAAO,CAAG,oDAAhB,CACA,GAAMC,CAAAA,GAAG,WAAMD,OAAN,SAAgBT,MAAhB,kCAA+CQ,UAA/C,+BAAT,CACA,GAAIA,UAAJ,CAAgB,CACdV,KAAK,CAACa,GAAN,WAAaD,GAAb,GAAoBE,IAApB,CAAyB,SAACC,QAAD,CAAc,CACrC,MAAKC,QAAL,CAAc,CAAEC,aAAa,CAAEF,QAAQ,CAACG,IAAT,CAAcC,OAA/B,CAAd,EACD,CAFD,EAGD,CACF,CAbkB,CAEjB,MAAKC,KAAL,CAAa,CAAEH,aAAa,CAAE,IAAjB,CAAb,CAFiB,aAGlB,C,0DAYQ,IACCA,CAAAA,aADD,CACmB,KAAKG,KADxB,CACCH,aADD,CAEP,mBACE,oCACE,KAAC,SAAD,EAAW,QAAQ,CAAE,KAAKR,WAA1B,CAAuC,aAAa,CAAEQ,aAAtD,EADF,CAEG,CAACA,aAAD,cACC,KAAC,GAAD,gBADD,cAGC,kCACE,KAAC,SAAD,WACGA,aAAa,CAACI,GAAd,CAAkB,SAACC,IAAD,qBACjB,KAAC,KAAD,EACE,UAAU,CAAEA,IAAI,CAACC,WADnB,CAEE,KAAK,CAAED,IAAI,CAACE,KAFd,CAGE,EAAE,CAAEF,IAAI,CAACG,EAHX,EADiB,EAAlB,CADH,EADF,EALJ,cAiBE,KAAC,MAAD,EAAQ,KAAK,CAAE,CAAEC,QAAQ,CAAE,UAAZ,CAAwBC,MAAM,CAAE,GAAhC,CAAf,EAjBF,GADF,CAqBD,C,oBAvCkB5B,S,EA0CrB,cAAeQ,CAAAA,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport SearchBar from \"./SearchBar\";\nimport keyApi from \"../const/apiKey\";\nimport Movie from \"./Movie\";\nimport Footer from \"./Footer\";\nimport { Container, Div } from \"../style/SearchPageCss\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { searchedMovie: null };\n  }\n\n  searchMovie = (searchText) => {\n    const preLien = \"https://api.themoviedb.org/3/search/movie?api_key=\";\n    const url = `${preLien}${keyApi}&language=en-US&query=${searchText}&page=1&include_adult=false`;\n    if (searchText) {\n      axios.get(`${url}`).then((response) => {\n        this.setState({ searchedMovie: response.data.results });\n      });\n    }\n  };\n\n  render() {\n    const { searchedMovie } = this.state;\n    return (\n      <div>\n        <SearchBar callback={this.searchMovie} searchedMovie={searchedMovie} />\n        {!searchedMovie ? (\n          <Div> </Div>\n        ) : (\n          <div>\n            <Container>\n              {searchedMovie.map((item) => (\n                <Movie\n                  posterPath={item.poster_path}\n                  title={item.title}\n                  id={item.id}\n                />\n              ))}\n            </Container>\n          </div>\n        )}\n        <Footer style={{ position: \"absolute\", bottom: \"0\" }} />\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/src/components/Random.jsx\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport keyApi from \"../const/apiKey\";\nimport { IMAGE_BASE_URL } from \"../const/Const\";\nimport { MainContainer, RightContainer, P, Button, Img, Para, Div } from \"../style/RandomCss\";\nimport Footer from \"./Footer\";\n\nclass Random extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getMovieRandom = () => {\n      const getRandomArbitrary = (min, max) => {\n        return Math.floor(Math.random() * (max - min) + min);\n      };\n\n      const random = getRandomArbitrary(100, 50000);\n      axios.get(`https://api.themoviedb.org/3/movie/${random}?api_key=${keyApi}&language=en-US`).then(response => response.data).then(movie => {\n        this.setState({\n          title: movie.title,\n          posterPath: movie.poster_path,\n          id: movie.id,\n          overview: movie.overview\n        });\n      }).catch(() => this.getMovieRandom());\n    };\n\n    this.handleOnClick = () => {\n      this.getMovieRandom();\n    };\n\n    this.state = {\n      title: \"\",\n      posterPath: \"\",\n      id: null,\n      overview: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getMovieRandom();\n  }\n\n  render() {\n    const {\n      title,\n      posterPath,\n      id,\n      overview\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(MainContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Div, {\n          children: [posterPath ? /*#__PURE__*/_jsxDEV(Img, {\n            src: IMAGE_BASE_URL + posterPath,\n            alt: title,\n            width: \"300px\",\n            height: \"450px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Img, {\n            src: \"https://via.placeholder.com/300x450\",\n            alt: \"element non trouv\\xE9\",\n            width: \"300px\",\n            height: \"450px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.handleOnClick,\n            type: \"button\",\n            children: \"Spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RightContainer, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(P, {\n              children: overview\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/movie/${id}`,\n              children: /*#__PURE__*/_jsxDEV(Para, {\n                children: \"Click here for more informations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Random;","map":{"version":3,"sources":["/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/src/components/Random.jsx"],"names":["React","Component","Link","axios","keyApi","IMAGE_BASE_URL","MainContainer","RightContainer","P","Button","Img","Para","Div","Footer","Random","constructor","props","getMovieRandom","getRandomArbitrary","min","max","Math","floor","random","get","then","response","data","movie","setState","title","posterPath","poster_path","id","overview","catch","handleOnClick","state","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport keyApi from \"../const/apiKey\";\nimport { IMAGE_BASE_URL } from \"../const/Const\";\nimport {\n  MainContainer,\n  RightContainer,\n  P,\n  Button,\n  Img,\n  Para,\n  Div,\n} from \"../style/RandomCss\";\nimport Footer from \"./Footer\";\n\nclass Random extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      posterPath: \"\",\n      id: null,\n      overview: \"\",\n    };\n  }\n\n  componentDidMount() {\n    this.getMovieRandom();\n  }\n\n  getMovieRandom = () => {\n    const getRandomArbitrary = (min, max) => {\n      return Math.floor(Math.random() * (max - min) + min);\n    };\n    const random = getRandomArbitrary(100, 50000);\n    axios\n      .get(\n        `https://api.themoviedb.org/3/movie/${random}?api_key=${keyApi}&language=en-US`\n      )\n      .then((response) => response.data)\n      .then((movie) => {\n        this.setState({\n          title: movie.title,\n          posterPath: movie.poster_path,\n          id: movie.id,\n          overview: movie.overview,\n        });\n      })\n      .catch(() => this.getMovieRandom());\n  };\n\n  handleOnClick = () => {\n    this.getMovieRandom();\n  };\n\n  render() {\n    const { title, posterPath, id, overview } = this.state;\n    return (\n      <>\n        <MainContainer>\n          <Div>\n            {posterPath ? (\n              <Img\n                src={IMAGE_BASE_URL + posterPath}\n                alt={title}\n                width=\"300px\"\n                height=\"450px\"\n              />\n            ) : (\n              <Img\n                src=\"https://via.placeholder.com/300x450\"\n                alt=\"element non trouvÃ©\"\n                width=\"300px\"\n                height=\"450px\"\n              />\n            )}\n            <Button onClick={this.handleOnClick} type=\"button\">\n              Spin\n            </Button>\n          </Div>\n          <RightContainer>\n            <div>\n              <h1>{title}</h1>\n              <P>{overview}</P>\n              <Link to={`/movie/${id}`}>\n                <Para>Click here for more informations</Para>\n              </Link>\n            </div>\n          </RightContainer>\n        </MainContainer>\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default Random;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import keyApi from\"../const/apiKey\";import{IMAGE_BASE_URL}from\"../const/Const\";import{MainContainer,RightContainer,P,Button,Img,Para,Div}from\"../style/RandomCss\";import Footer from\"./Footer\";var Random=/*#__PURE__*/function(_Component){_inherits(Random,_Component);var _super=_createSuper(Random);function Random(props){var _this;_classCallCheck(this,Random);_this=_super.call(this,props);_this.getMovieRandom=function(){var getRandomArbitrary=function getRandomArbitrary(min,max){return Math.floor(Math.random()*(max-min)+min);};var random=getRandomArbitrary(100,50000);axios.get(\"https://api.themoviedb.org/3/movie/\".concat(random,\"?api_key=\").concat(keyApi,\"&language=en-US\")).then(function(response){return response.data;}).then(function(movie){_this.setState({title:movie.title,posterPath:movie.poster_path,id:movie.id,overview:movie.overview});}).catch(function(){return _this.getMovieRandom();});};_this.handleOnClick=function(){_this.getMovieRandom();};_this.state={title:\"\",posterPath:\"\",id:null,overview:\"\"};return _this;}_createClass(Random,[{key:\"componentDidMount\",value:function componentDidMount(){this.getMovieRandom();}},{key:\"render\",value:function render(){var _this$state=this.state,title=_this$state.title,posterPath=_this$state.posterPath,id=_this$state.id,overview=_this$state.overview;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsxs(Div,{children:[posterPath?/*#__PURE__*/_jsx(Img,{src:IMAGE_BASE_URL+posterPath,alt:title,width:\"300px\",height:\"450px\"}):/*#__PURE__*/_jsx(Img,{src:\"https://via.placeholder.com/300x450\",alt:\"element non trouv\\xE9\",width:\"300px\",height:\"450px\"}),/*#__PURE__*/_jsx(Button,{onClick:this.handleOnClick,type:\"button\",children:\"Spin\"})]}),/*#__PURE__*/_jsx(RightContainer,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:title}),/*#__PURE__*/_jsx(P,{children:overview}),/*#__PURE__*/_jsx(Link,{to:\"/movie/\".concat(id),children:/*#__PURE__*/_jsx(Para,{children:\"Click here for more informations\"})})]})})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return Random;}(Component);export default Random;","map":{"version":3,"sources":["/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/src/components/Random.jsx"],"names":["React","Component","Link","axios","keyApi","IMAGE_BASE_URL","MainContainer","RightContainer","P","Button","Img","Para","Div","Footer","Random","props","getMovieRandom","getRandomArbitrary","min","max","Math","floor","random","get","then","response","data","movie","setState","title","posterPath","poster_path","id","overview","catch","handleOnClick","state"],"mappings":"i2BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,OAASC,cAAT,KAA+B,gBAA/B,CACA,OACEC,aADF,CAEEC,cAFF,CAGEC,CAHF,CAIEC,MAJF,CAKEC,GALF,CAMEC,IANF,CAOEC,GAPF,KAQO,oBARP,CASA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,GAEMC,CAAAA,M,gGACJ,gBAAYC,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EADiB,MAcnBC,cAdmB,CAcF,UAAM,CACrB,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,GAAD,CAAMC,GAAN,CAAc,CACvC,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiBH,GAAG,CAAGD,GAAvB,EAA8BA,GAAzC,CAAP,CACD,CAFD,CAGA,GAAMI,CAAAA,MAAM,CAAGL,kBAAkB,CAAC,GAAD,CAAM,KAAN,CAAjC,CACAd,KAAK,CACFoB,GADH,8CAE0CD,MAF1C,qBAE4DlB,MAF5D,qBAIGoB,IAJH,CAIQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAvB,EAJR,EAKGF,IALH,CAKQ,SAACG,KAAD,CAAW,CACf,MAAKC,QAAL,CAAc,CACZC,KAAK,CAAEF,KAAK,CAACE,KADD,CAEZC,UAAU,CAAEH,KAAK,CAACI,WAFN,CAGZC,EAAE,CAAEL,KAAK,CAACK,EAHE,CAIZC,QAAQ,CAAEN,KAAK,CAACM,QAJJ,CAAd,EAMD,CAZH,EAaGC,KAbH,CAaS,iBAAM,OAAKlB,cAAL,EAAN,EAbT,EAcD,CAjCkB,OAmCnBmB,aAnCmB,CAmCH,UAAM,CACpB,MAAKnB,cAAL,GACD,CArCkB,CAEjB,MAAKoB,KAAL,CAAa,CACXP,KAAK,CAAE,EADI,CAEXC,UAAU,CAAE,EAFD,CAGXE,EAAE,CAAE,IAHO,CAIXC,QAAQ,CAAE,EAJC,CAAb,CAFiB,aAQlB,C,gFAEmB,CAClB,KAAKjB,cAAL,GACD,C,uCA2BQ,iBACqC,KAAKoB,KAD1C,CACCP,KADD,aACCA,KADD,CACQC,UADR,aACQA,UADR,CACoBE,EADpB,aACoBA,EADpB,CACwBC,QADxB,aACwBA,QADxB,CAEP,mBACE,wCACE,MAAC,aAAD,yBACE,MAAC,GAAD,YACGH,UAAU,cACT,KAAC,GAAD,EACE,GAAG,CAAEzB,cAAc,CAAGyB,UADxB,CAEE,GAAG,CAAED,KAFP,CAGE,KAAK,CAAC,OAHR,CAIE,MAAM,CAAC,OAJT,EADS,cAQT,KAAC,GAAD,EACE,GAAG,CAAC,qCADN,CAEE,GAAG,CAAC,uBAFN,CAGE,KAAK,CAAC,OAHR,CAIE,MAAM,CAAC,OAJT,EATJ,cAgBE,KAAC,MAAD,EAAQ,OAAO,CAAE,KAAKM,aAAtB,CAAqC,IAAI,CAAC,QAA1C,kBAhBF,GADF,cAqBE,KAAC,cAAD,wBACE,oCACE,oBAAKN,KAAL,EADF,cAEE,KAAC,CAAD,WAAII,QAAJ,EAFF,cAGE,KAAC,IAAD,EAAM,EAAE,kBAAYD,EAAZ,CAAR,uBACE,KAAC,IAAD,+CADF,EAHF,GADF,EArBF,GADF,cAgCE,KAAC,MAAD,IAhCF,GADF,CAoCD,C,oBA9EkB/B,S,EAiFrB,cAAea,CAAAA,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport keyApi from \"../const/apiKey\";\nimport { IMAGE_BASE_URL } from \"../const/Const\";\nimport {\n  MainContainer,\n  RightContainer,\n  P,\n  Button,\n  Img,\n  Para,\n  Div,\n} from \"../style/RandomCss\";\nimport Footer from \"./Footer\";\n\nclass Random extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      posterPath: \"\",\n      id: null,\n      overview: \"\",\n    };\n  }\n\n  componentDidMount() {\n    this.getMovieRandom();\n  }\n\n  getMovieRandom = () => {\n    const getRandomArbitrary = (min, max) => {\n      return Math.floor(Math.random() * (max - min) + min);\n    };\n    const random = getRandomArbitrary(100, 50000);\n    axios\n      .get(\n        `https://api.themoviedb.org/3/movie/${random}?api_key=${keyApi}&language=en-US`\n      )\n      .then((response) => response.data)\n      .then((movie) => {\n        this.setState({\n          title: movie.title,\n          posterPath: movie.poster_path,\n          id: movie.id,\n          overview: movie.overview,\n        });\n      })\n      .catch(() => this.getMovieRandom());\n  };\n\n  handleOnClick = () => {\n    this.getMovieRandom();\n  };\n\n  render() {\n    const { title, posterPath, id, overview } = this.state;\n    return (\n      <>\n        <MainContainer>\n          <Div>\n            {posterPath ? (\n              <Img\n                src={IMAGE_BASE_URL + posterPath}\n                alt={title}\n                width=\"300px\"\n                height=\"450px\"\n              />\n            ) : (\n              <Img\n                src=\"https://via.placeholder.com/300x450\"\n                alt=\"element non trouvÃ©\"\n                width=\"300px\"\n                height=\"450px\"\n              />\n            )}\n            <Button onClick={this.handleOnClick} type=\"button\">\n              Spin\n            </Button>\n          </Div>\n          <RightContainer>\n            <div>\n              <h1>{title}</h1>\n              <P>{overview}</P>\n              <Link to={`/movie/${id}`}>\n                <Para>Click here for more informations</Para>\n              </Link>\n            </div>\n          </RightContainer>\n        </MainContainer>\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default Random;\n"]},"metadata":{},"sourceType":"module"}
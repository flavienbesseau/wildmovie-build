{"ast":null,"code":"import _slicedToArray from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from\"react\";import{Carousel,CarouselItem,CarouselControl,CarouselIndicators,CarouselCaption}from\"reactstrap\";import{IMAGE_BASE_URL}from\"../const/Const\";var Example=function Example(props){var items=props.topRatedMovies;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),animating=_useState4[0],setAnimating=_useState4[1];var next=function next(){if(animating)return;var nextIndex=activeIndex===items.length-1?0:activeIndex+1;setActiveIndex(nextIndex);};var previous=function previous(){if(animating)return;var nextIndex=activeIndex===0?items.length-1:activeIndex-1;setActiveIndex(nextIndex);};var goToIndex=function goToIndex(newIndex){if(animating)return;setActiveIndex(newIndex);};var slides=items.map(function(item){return/*#__PURE__*/_jsxs(CarouselItem,{onExiting:function onExiting(){return setAnimating(true);},onExited:function onExited(){return setAnimating(false);},children:[/*#__PURE__*/_jsx(\"img\",{className:\"custom-img-carousel\",src:\"\".concat(IMAGE_BASE_URL).concat(item.backdrop_path),alt:item.altText}),/*#__PURE__*/_jsx(CarouselCaption,{captionHeader:item.title})]},item.title);});return/*#__PURE__*/_jsxs(Carousel,{className:\"custom-carousel\",activeIndex:activeIndex,next:next,previous:previous,children:[/*#__PURE__*/_jsx(CarouselIndicators,{items:items,activeIndex:activeIndex,onClickHandler:goToIndex}),slides,/*#__PURE__*/_jsx(CarouselControl,{direction:\"prev\",directionText:\"Previous\",onClickHandler:previous}),/*#__PURE__*/_jsx(CarouselControl,{direction:\"next\",directionText:\"Next\",onClickHandler:next})]});};export default Example;","map":{"version":3,"sources":["/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/src/components/Carrousel.jsx"],"names":["React","useState","Carousel","CarouselItem","CarouselControl","CarouselIndicators","CarouselCaption","IMAGE_BASE_URL","Example","props","items","topRatedMovies","activeIndex","setActiveIndex","animating","setAnimating","next","nextIndex","length","previous","goToIndex","newIndex","slides","map","item","backdrop_path","altText","title"],"mappings":"iRAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,OACEC,QADF,CAEEC,YAFF,CAGEC,eAHF,CAIEC,kBAJF,CAKEC,eALF,KAMO,YANP,CAQA,OAASC,cAAT,KAA+B,gBAA/B,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,IACDC,CAAAA,KADC,CACSD,KADT,CACjBE,cADiB,eAEaV,QAAQ,CAAC,CAAD,CAFrB,wCAElBW,WAFkB,eAELC,cAFK,8BAGSZ,QAAQ,CAAC,KAAD,CAHjB,yCAGlBa,SAHkB,eAGPC,YAHO,eAKzB,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAIF,SAAJ,CAAe,OACf,GAAMG,CAAAA,SAAS,CAAGL,WAAW,GAAKF,KAAK,CAACQ,MAAN,CAAe,CAA/B,CAAmC,CAAnC,CAAuCN,WAAW,CAAG,CAAvE,CACAC,cAAc,CAACI,SAAD,CAAd,CACD,CAJD,CAMA,GAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAIL,SAAJ,CAAe,OACf,GAAMG,CAAAA,SAAS,CAAGL,WAAW,GAAK,CAAhB,CAAoBF,KAAK,CAACQ,MAAN,CAAe,CAAnC,CAAuCN,WAAW,CAAG,CAAvE,CACAC,cAAc,CAACI,SAAD,CAAd,CACD,CAJD,CAMA,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,QAAD,CAAc,CAC9B,GAAIP,SAAJ,CAAe,OACfD,cAAc,CAACQ,QAAD,CAAd,CACD,CAHD,CAKA,GAAMC,CAAAA,MAAM,CAAGZ,KAAK,CAACa,GAAN,CAAU,SAACC,IAAD,CAAU,CACjC,mBACE,MAAC,YAAD,EACE,SAAS,CAAE,2BAAMT,CAAAA,YAAY,CAAC,IAAD,CAAlB,EADb,CAEE,QAAQ,CAAE,0BAAMA,CAAAA,YAAY,CAAC,KAAD,CAAlB,EAFZ,wBAKE,YACE,SAAS,CAAC,qBADZ,CAEE,GAAG,WAAKR,cAAL,SAAsBiB,IAAI,CAACC,aAA3B,CAFL,CAGE,GAAG,CAAED,IAAI,CAACE,OAHZ,EALF,cAUE,KAAC,eAAD,EAAiB,aAAa,CAAEF,IAAI,CAACG,KAArC,EAVF,GAGOH,IAAI,CAACG,KAHZ,CADF,CAcD,CAfc,CAAf,CAiBA,mBACE,MAAC,QAAD,EACE,SAAS,CAAC,iBADZ,CAEE,WAAW,CAAEf,WAFf,CAGE,IAAI,CAAEI,IAHR,CAIE,QAAQ,CAAEG,QAJZ,wBAME,KAAC,kBAAD,EACE,KAAK,CAAET,KADT,CAEE,WAAW,CAAEE,WAFf,CAGE,cAAc,CAAEQ,SAHlB,EANF,CAWGE,MAXH,cAYE,KAAC,eAAD,EACE,SAAS,CAAC,MADZ,CAEE,aAAa,CAAC,UAFhB,CAGE,cAAc,CAAEH,QAHlB,EAZF,cAiBE,KAAC,eAAD,EACE,SAAS,CAAC,MADZ,CAEE,aAAa,CAAC,MAFhB,CAGE,cAAc,CAAEH,IAHlB,EAjBF,GADF,CAyBD,CAhED,CAsEA,cAAeR,CAAAA,OAAf","sourcesContent":["import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Carousel,\n  CarouselItem,\n  CarouselControl,\n  CarouselIndicators,\n  CarouselCaption,\n} from \"reactstrap\";\n\nimport { IMAGE_BASE_URL } from \"../const/Const\";\n\nconst Example = (props) => {\n  const { topRatedMovies: items } = props;\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [animating, setAnimating] = useState(false);\n\n  const next = () => {\n    if (animating) return;\n    const nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n    setActiveIndex(nextIndex);\n  };\n\n  const previous = () => {\n    if (animating) return;\n    const nextIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n    setActiveIndex(nextIndex);\n  };\n\n  const goToIndex = (newIndex) => {\n    if (animating) return;\n    setActiveIndex(newIndex);\n  };\n\n  const slides = items.map((item) => {\n    return (\n      <CarouselItem\n        onExiting={() => setAnimating(true)}\n        onExited={() => setAnimating(false)}\n        key={item.title}\n      >\n        <img\n          className=\"custom-img-carousel\"\n          src={`${IMAGE_BASE_URL}${item.backdrop_path}`}\n          alt={item.altText}\n        />\n        <CarouselCaption captionHeader={item.title} />\n      </CarouselItem>\n    );\n  });\n\n  return (\n    <Carousel\n      className=\"custom-carousel\"\n      activeIndex={activeIndex}\n      next={next}\n      previous={previous}\n    >\n      <CarouselIndicators\n        items={items}\n        activeIndex={activeIndex}\n        onClickHandler={goToIndex}\n      />\n      {slides}\n      <CarouselControl\n        direction=\"prev\"\n        directionText=\"Previous\"\n        onClickHandler={previous}\n      />\n      <CarouselControl\n        direction=\"next\"\n        directionText=\"Next\"\n        onClickHandler={next}\n      />\n    </Carousel>\n  );\n};\n\nExample.propTypes = {\n  topRatedMovies: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default Example;\n"]},"metadata":{},"sourceType":"module"}
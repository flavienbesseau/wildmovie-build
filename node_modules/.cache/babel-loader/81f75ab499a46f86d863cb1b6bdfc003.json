{"ast":null,"code":"import _toConsumableArray from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{BrowserRouter as Router,Route,Switch}from\"react-router-dom\";import axios from\"axios\";import\"./App.css\";import _ from\"lodash\";import ListMovies from\"./components/ListMovies\";import GenreList from\"./components/GenreList\";import Carrousel from\"./components/Carrousel\";import FicheFilm from\"./components/FicheFilm\";import Search from\"./components/Search\";import Random from\"./components/Random\";import Contact from\"./components/Contact\";import UpCommingMovies from\"./components/UpCommingMovies\";import PopularMovies from\"./components/PopularMovies\";import MoreMovies from\"./components/MoreMovies\";import Footer from\"./components/Footer\";import Settings from\"./components/Settings\";import MyList from\"./components/MyList\";import FavoritesContext from\"./contexts/FavoritesContext\";import NavbarComponent from\"./components/NavBarComponent\";var apiEndPoint=\"https://api.themoviedb.org/3/\";var popularMoviesUrl=\"discover/movie?language=fr&sort_by=popularity.desc\";var images=\"&append_to_response=images\";var apiKey=\"api_key=184a078836bbb9d9a754e937f43861a4\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.getSample=function(){axios.get(\"https://api.themoviedb.org/3/genre/movie/list?api_key=126f215d56fe6c222e6d996558bb1e98\").then(function(response){return response.data;}).then(function(data){_this.setState({genres:data.genres});});};_this.initMovies=function(){axios.get(\"\".concat(apiEndPoint).concat(popularMoviesUrl).concat(images,\"&\").concat(apiKey)).then(function(response){return _this.setState({topRated:response.data.results.slice(1,6)});});};_this.getTopRated=function(){var pageMovie=_this.state.pageMovie;var key=\"126f215d56fe6c222e6d996558bb1e98\";var url=\"https://api.themoviedb.org/3/movie/top_rated?api_key=\".concat(key,\"&language=en-\\n    US&page=\").concat(pageMovie);axios.get(url).then(function(response){return response.data;}).then(function(response){return response.results;}).then(function(movieArray){return _this.setState({movies:movieArray});});};_this.getUpComingMovies=function(){var pageMovieUpComing=_this.state.pageMovieUpComing;var key=\"126f215d56fe6c222e6d996558bb1e98\";var url=\"https://api.themoviedb.org/3/movie/upcoming?api_key=\".concat(key,\"&language=en-\\n    US&page=\").concat(pageMovieUpComing);axios.get(url).then(function(res){return res.data;}).then(function(res){return res.results;}).then(function(movieUpComingArr){return _this.setState({moviesUpComing:movieUpComingArr});});};_this.getPopularMovies=function(){var pageMoviePopular=_this.state.pageMoviePopular;var key=\"126f215d56fe6c222e6d996558bb1e98\";var url=\"https://api.themoviedb.org/3/movie/popular?api_key=\".concat(key,\"&language=en-\\n    US&page=\").concat(pageMoviePopular,\"\\n    \");axios.get(url).then(function(res){return res.data;}).then(function(res){return res.results;}).then(function(moviePopularArr){return _this.setState({moviesPopular:moviePopularArr});});};_this.getMoreMovies=function(){var pageMoreMovies=_this.state.pageMoreMovies;var key=\"126f215d56fe6c222e6d996558bb1e98\";var url=\"https://api.themoviedb.org/3/movie/top_rated?api_key=\".concat(key,\"&language=en-\\n    US&page=\").concat(pageMoreMovies);axios.get(url).then(function(res){return res.data;}).then(function(res){return res.results;}).then(function(movieMoreArr){return _this.setState({moviesMore:movieMoreArr});});};_this.handleButtonClicked=function(ev){var genresToFilter=_this.state.genresToFilter;var newGenresToFilter=_toConsumableArray(genresToFilter);if(!newGenresToFilter.includes(Number(ev.currentTarget.value))){newGenresToFilter.push(Number(ev.currentTarget.value));}else{newGenresToFilter=newGenresToFilter.filter(function(e){return e!==Number(ev.currentTarget.value);});}_this.setState({genresToFilter:newGenresToFilter});};_this.IncrementPageMoreMovies=function(){var pageMoreMovies=_this.state.pageMoreMovies;_this.setState({pageMoreMovies:pageMoreMovies+1});_this.getMoreMovies();};_this.DecrementPageMoreMovies=function(){var pageMoreMovies=_this.state.pageMoreMovies;_this.setState({pageMoreMovies:pageMoreMovies-1});_this.getMoreMovies();};_this.IncrementPageUpComingMovies=function(){var pageMovieUpComing=_this.state.pageMovieUpComing;_this.setState({pageMovieUpComing:pageMovieUpComing+1});_this.getUpComingMovies();};_this.DecrementPageUpComingMovies=function(){var pageMovieUpComing=_this.state.pageMovieUpComing;_this.setState({pageMovieUpComing:pageMovieUpComing-1});_this.getUpComingMovies();};_this.IncrementPagePopularMovies=function(){var pageMoviePopular=_this.state.pageMoviePopular;_this.setState({pageMoviePopular:pageMoviePopular+1});_this.getPopularMovies();};_this.DecrementPagePopularMovies=function(){var pageMoviePopular=_this.state.pageMoviePopular;_this.setState({pageMoviePopular:pageMoviePopular-1});_this.getPopularMovies();};_this.IncrementPageExploreMovies=function(){var pageMovie=_this.state.pageMovie;_this.setState({pageMovie:pageMovie+1});_this.getTopRated();};_this.DecrementPageExploreMovies=function(){var pageMovie=_this.state.pageMovie;_this.setState({pageMovie:pageMovie-1});_this.getTopRated();};_this.onClickFavorite=function(id){var favorites=_this.state.favorites;if(favorites.includes(id)){favorites.splice(favorites.indexOf(id),1);}else{favorites.push(id);}_this.setState({favorites:favorites},_this.saveStateToLocalStorage);};_this.onClickAlreadySeen=function(id){var alreadySeen=_this.state.alreadySeen;if(alreadySeen.includes(id)){alreadySeen.splice(alreadySeen.indexOf(id),1);}else{alreadySeen.push(id);}_this.setState({alreadySeen:alreadySeen},_this.saveStateToLocalStorage);};_this.saveStateToLocalStorage=function(){localStorage.setItem(\"state\",JSON.stringify(_this.state));};_this.state={topRated:null,genres:null,// state from ListMovie\nmovies:[],genresToFilter:[],isFavorite:false,favorites:[],alreadySeen:[],pageMovie:1,pageMoviePopular:1,pageMovieUpComing:1,pageMoreMovies:1,moviesMore:[],moviesPopular:[],moviesUpComing:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.initMovies();this.getSample();this.getTopRated();this.getMoreMovies();this.getPopularMovies();this.getUpComingMovies();var state=localStorage.getItem(\"state\");if(state){this.setState(JSON.parse(state));}// localStorage.clear();\n}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this$state=this.state,pageMovie=_this$state.pageMovie,pageMovieUpComing=_this$state.pageMovieUpComing,pageMoviePopular=_this$state.pageMoviePopular,pageMoreMovies=_this$state.pageMoreMovies;if(!_.isEqual(prevState.pageMovie,pageMovie)){this.getTopRated();}if(!_.isEqual(prevState.pageMovieUpComing,pageMovieUpComing)){this.getUpComingMovies();}if(!_.isEqual(prevState.pageMoreMovies,pageMoreMovies)){this.getMoreMovies();}if(!_.isEqual(prevState.pageMoviePopular,pageMoviePopular)){this.getPopularMovies();}}},{key:\"render\",value:function render(){var topRatedMovies=this.state.topRated;var _this$state2=this.state,genres=_this$state2.genres,movies=_this$state2.movies,genresToFilter=_this$state2.genresToFilter,isFavorite=_this$state2.isFavorite,favorites=_this$state2.favorites,pageMoreMovies=_this$state2.pageMoreMovies,moviesMore=_this$state2.moviesMore,alreadySeen=_this$state2.alreadySeen;var _this$state3=this.state,moviesPopular=_this$state3.moviesPopular,moviesUpComing=_this$state3.moviesUpComing,pageMovie=_this$state3.pageMovie,pageMoviePopular=_this$state3.pageMoviePopular,pageMovieUpComing=_this$state3.pageMovieUpComing;var listFiletred=movies.filter(function(movie){return genresToFilter.includes(movie.genre_ids[0]||movie.genre_ids[1]);}).map(function(movie){return movie;});var upComingFiltred=moviesUpComing.filter(function(movie){return genresToFilter.includes(movie.genre_ids[0]||movie.genre_ids[1]);}).map(function(movie){return movie;});var moviesPopularFiltered=moviesPopular.filter(function(movie){return genresToFilter.includes(movie.genre_ids[0]||movie.genre_ids[1]);}).map(function(movie){return movie;});var moviesMoreFiltered=moviesMore.filter(function(movie){return genresToFilter.includes(movie.genre_ids[0]||movie.genre_ids[1]);}).map(function(movie){return movie;});return/*#__PURE__*/_jsx(Router,{className:\"body\",children:/*#__PURE__*/_jsxs(FavoritesContext.Provider,{value:{favorites:favorites,alreadySeen:alreadySeen,onClickFavorite:this.onClickFavorite,onClickAlreadySeen:this.onClickAlreadySeen},children:[/*#__PURE__*/_jsx(NavbarComponent,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsxs(Route,{exact:true,path:\"/\",children:[topRatedMovies?/*#__PURE__*/_jsx(Carrousel,{topRatedMovies:topRatedMovies}):/*#__PURE__*/_jsx(\"p\",{children:\"loading\"}),/*#__PURE__*/_jsx(\"div\",{children:genres?/*#__PURE__*/_jsx(GenreList,{genres:genres,handleButtonClicked:this.handleButtonClicked,genresToFilter:genresToFilter}):/*#__PURE__*/_jsx(\"p\",{children:\"loading\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Explore\"}),!genresToFilter.length?/*#__PURE__*/_jsx(ListMovies,{pageMovie:pageMovie,DecrementPageExploreMovies:this.DecrementPageExploreMovies,IncrementPageExploreMovies:this.IncrementPageExploreMovies,movies:movies,genresToFilter:genresToFilter,isFavorite:isFavorite,addToFavorite:this.addToFavorite}):/*#__PURE__*/_jsx(ListMovies,{pageMovie:pageMovie,DecrementPageExploreMovies:this.DecrementPageExploreMovies,IncrementPageExploreMovies:this.IncrementPageExploreMovies,movies:listFiletred,genresToFilter:genresToFilter,isFavorite:isFavorite,addToFavorite:this.addToFavorite})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Upcoming\"}),!genresToFilter.length?/*#__PURE__*/_jsx(UpCommingMovies,{pageMovieUpComing:pageMovieUpComing,IncrementPageUpComingMovies:this.IncrementPageUpComingMovies,DecrementPageUpComingMovies:this.DecrementPageUpComingMovies,moviesUpComing:moviesUpComing}):/*#__PURE__*/_jsx(UpCommingMovies,{pageMovieUpComing:pageMovieUpComing,IncrementPageUpComingMovies:this.IncrementPageUpComingMovies,DecrementPageUpComingMovies:this.DecrementPageUpComingMovies,moviesUpComing:upComingFiltred})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Popular\"}),!genresToFilter.length?/*#__PURE__*/_jsx(PopularMovies,{pageMoviePopular:pageMoviePopular,IncrementPagePopularMovies:this.IncrementPagePopularMovies,DecrementPagePopularMovies:this.DecrementPagePopularMovies,moviesPopular:moviesPopular}):/*#__PURE__*/_jsx(PopularMovies,{pageMoviePopular:pageMoviePopular,IncrementPagePopularMovies:this.IncrementPagePopularMovies,DecrementPagePopularMovies:this.DecrementPagePopularMovies,moviesPopular:moviesPopularFiltered})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"More\"}),!genresToFilter.length?/*#__PURE__*/_jsx(MoreMovies,{pageMoreMovies:pageMoreMovies,IncrementPageMoreMovies:this.IncrementPageMoreMovies,DecrementPageMoreMovies:this.DecrementPageMoreMovies,moviesMore:moviesMore}):/*#__PURE__*/_jsx(MoreMovies,{pageMoreMovies:pageMoreMovies,IncrementPageMoreMovies:this.IncrementPageMoreMovies,DecrementPageMoreMovies:this.DecrementPageMoreMovies,moviesMore:moviesMoreFiltered})]}),/*#__PURE__*/_jsx(Footer,{})]}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/search\",children:/*#__PURE__*/_jsx(Search,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/random\",children:/*#__PURE__*/_jsx(Random,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/myprofile/mylist\",children:/*#__PURE__*/_jsx(MyList,{favorites:favorites,alreadySeen:alreadySeen})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/myprofile/contact\",children:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/myprofile/settings\",children:/*#__PURE__*/_jsx(Settings,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/movie/:id\",component:FicheFilm})]})]})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/flaviostark/wildcodeschool/projets/tlse0920-js-p2-wildmovies/src/App.jsx"],"names":["React","Component","BrowserRouter","Router","Route","Switch","axios","_","ListMovies","GenreList","Carrousel","FicheFilm","Search","Random","Contact","UpCommingMovies","PopularMovies","MoreMovies","Footer","Settings","MyList","FavoritesContext","NavbarComponent","apiEndPoint","popularMoviesUrl","images","apiKey","App","props","getSample","get","then","response","data","setState","genres","initMovies","topRated","results","slice","getTopRated","pageMovie","state","key","url","movieArray","movies","getUpComingMovies","pageMovieUpComing","res","movieUpComingArr","moviesUpComing","getPopularMovies","pageMoviePopular","moviePopularArr","moviesPopular","getMoreMovies","pageMoreMovies","movieMoreArr","moviesMore","handleButtonClicked","ev","genresToFilter","newGenresToFilter","includes","Number","currentTarget","value","push","filter","e","IncrementPageMoreMovies","DecrementPageMoreMovies","IncrementPageUpComingMovies","DecrementPageUpComingMovies","IncrementPagePopularMovies","DecrementPagePopularMovies","IncrementPageExploreMovies","DecrementPageExploreMovies","onClickFavorite","id","favorites","splice","indexOf","saveStateToLocalStorage","onClickAlreadySeen","alreadySeen","localStorage","setItem","JSON","stringify","isFavorite","getItem","parse","prevProps","prevState","isEqual","topRatedMovies","listFiletred","movie","genre_ids","map","upComingFiltred","moviesPopularFiltered","moviesMoreFiltered","length","addToFavorite"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./App.css\";\n\nimport _ from \"lodash\";\nimport ListMovies from \"./components/ListMovies\";\nimport GenreList from \"./components/GenreList\";\nimport Carrousel from \"./components/Carrousel\";\nimport FicheFilm from \"./components/FicheFilm\";\nimport Search from \"./components/Search\";\nimport Random from \"./components/Random\";\nimport Contact from \"./components/Contact\";\nimport UpCommingMovies from \"./components/UpCommingMovies\";\nimport PopularMovies from \"./components/PopularMovies\";\nimport MoreMovies from \"./components/MoreMovies\";\nimport Footer from \"./components/Footer\";\nimport Settings from \"./components/Settings\";\nimport MyList from \"./components/MyList\";\nimport FavoritesContext from \"./contexts/FavoritesContext\";\nimport NavbarComponent from \"./components/NavBarComponent\";\n\nconst apiEndPoint = \"https://api.themoviedb.org/3/\";\nconst popularMoviesUrl = \"discover/movie?language=fr&sort_by=popularity.desc\";\nconst images = \"&append_to_response=images\";\nconst apiKey = \"api_key=184a078836bbb9d9a754e937f43861a4\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topRated: null,\n      genres: null,\n      // state from ListMovie\n      movies: [],\n      genresToFilter: [],\n      isFavorite: false,\n      favorites: [],\n      alreadySeen: [],\n      pageMovie: 1,\n      pageMoviePopular: 1,\n      pageMovieUpComing: 1,\n      pageMoreMovies: 1,\n      moviesMore: [],\n      moviesPopular: [],\n      moviesUpComing: [],\n    };\n  }\n\n  componentDidMount() {\n    this.initMovies();\n    this.getSample();\n    this.getTopRated();\n    this.getMoreMovies();\n    this.getPopularMovies();\n    this.getUpComingMovies();\n    const state = localStorage.getItem(\"state\");\n    if (state) {\n      this.setState(JSON.parse(state));\n    }\n    // localStorage.clear();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      pageMovie,\n      pageMovieUpComing,\n      pageMoviePopular,\n      pageMoreMovies,\n    } = this.state;\n\n    if (!_.isEqual(prevState.pageMovie, pageMovie)) {\n      this.getTopRated();\n    }\n\n    if (!_.isEqual(prevState.pageMovieUpComing, pageMovieUpComing)) {\n      this.getUpComingMovies();\n    }\n\n    if (!_.isEqual(prevState.pageMoreMovies, pageMoreMovies)) {\n      this.getMoreMovies();\n    }\n\n    if (!_.isEqual(prevState.pageMoviePopular, pageMoviePopular)) {\n      this.getPopularMovies();\n    }\n  }\n\n  getSample = () => {\n    axios\n      .get(\n        \"https://api.themoviedb.org/3/genre/movie/list?api_key=126f215d56fe6c222e6d996558bb1e98\"\n      )\n      .then((response) => response.data)\n      .then((data) => {\n        this.setState({ genres: data.genres });\n      });\n  };\n\n  initMovies = () => {\n    axios\n      .get(`${apiEndPoint}${popularMoviesUrl}${images}&${apiKey}`)\n      .then((response) =>\n        this.setState({ topRated: response.data.results.slice(1, 6) })\n      );\n  };\n\n  getTopRated = () => {\n    const { pageMovie } = this.state;\n    const key = \"126f215d56fe6c222e6d996558bb1e98\";\n    const url = `https://api.themoviedb.org/3/movie/top_rated?api_key=${key}&language=en-\n    US&page=${pageMovie}`;\n    axios\n      .get(url)\n      .then((response) => response.data)\n      .then((response) => response.results)\n      .then((movieArray) => this.setState({ movies: movieArray }));\n  };\n\n  // Api request for list UpcomingMovies\n\n  getUpComingMovies = () => {\n    const { pageMovieUpComing } = this.state;\n    const key = \"126f215d56fe6c222e6d996558bb1e98\";\n    const url = `https://api.themoviedb.org/3/movie/upcoming?api_key=${key}&language=en-\n    US&page=${pageMovieUpComing}`;\n    axios\n      .get(url)\n      .then((res) => res.data)\n      .then((res) => res.results)\n      .then((movieUpComingArr) =>\n        this.setState({ moviesUpComing: movieUpComingArr })\n      );\n  };\n\n  // Api request for list PopularMovies\n  getPopularMovies = () => {\n    const { pageMoviePopular } = this.state;\n    const key = \"126f215d56fe6c222e6d996558bb1e98\";\n    const url = `https://api.themoviedb.org/3/movie/popular?api_key=${key}&language=en-\n    US&page=${pageMoviePopular}\n    `;\n    axios\n      .get(url)\n      .then((res) => res.data)\n      .then((res) => res.results)\n      .then((moviePopularArr) =>\n        this.setState({ moviesPopular: moviePopularArr })\n      );\n  };\n\n  // Api request for list MoreMovies\n  getMoreMovies = () => {\n    const { pageMoreMovies } = this.state;\n    const key = \"126f215d56fe6c222e6d996558bb1e98\";\n    const url = `https://api.themoviedb.org/3/movie/top_rated?api_key=${key}&language=en-\n    US&page=${pageMoreMovies}`;\n    axios\n      .get(url)\n      .then((res) => res.data)\n      .then((res) => res.results)\n      .then((movieMoreArr) => this.setState({ moviesMore: movieMoreArr }));\n  };\n\n  // listening method for genre button click\n  handleButtonClicked = (ev) => {\n    const { genresToFilter } = this.state;\n    let newGenresToFilter = [...genresToFilter];\n    if (!newGenresToFilter.includes(Number(ev.currentTarget.value))) {\n      newGenresToFilter.push(Number(ev.currentTarget.value));\n    } else {\n      newGenresToFilter = newGenresToFilter.filter(\n        (e) => e !== Number(ev.currentTarget.value)\n      );\n    }\n    this.setState({ genresToFilter: newGenresToFilter });\n  };\n\n  // Method for change page with button at the end of list MoreMovies\n\n  // method to change page on component MoreMovies\n  IncrementPageMoreMovies = () => {\n    const { pageMoreMovies } = this.state;\n    this.setState({ pageMoreMovies: pageMoreMovies + 1 });\n    this.getMoreMovies();\n  };\n\n  DecrementPageMoreMovies = () => {\n    const { pageMoreMovies } = this.state;\n    this.setState({ pageMoreMovies: pageMoreMovies - 1 });\n    this.getMoreMovies();\n  };\n\n  // method to change page on component UpComingMovies\n\n  IncrementPageUpComingMovies = () => {\n    const { pageMovieUpComing } = this.state;\n    this.setState({ pageMovieUpComing: pageMovieUpComing + 1 });\n    this.getUpComingMovies();\n  };\n\n  DecrementPageUpComingMovies = () => {\n    const { pageMovieUpComing } = this.state;\n    this.setState({ pageMovieUpComing: pageMovieUpComing - 1 });\n    this.getUpComingMovies();\n  };\n\n  // method to change page on component PopularMovies\n\n  IncrementPagePopularMovies = () => {\n    const { pageMoviePopular } = this.state;\n    this.setState({ pageMoviePopular: pageMoviePopular + 1 });\n    this.getPopularMovies();\n  };\n\n  DecrementPagePopularMovies = () => {\n    const { pageMoviePopular } = this.state;\n    this.setState({ pageMoviePopular: pageMoviePopular - 1 });\n    this.getPopularMovies();\n  };\n\n  // method to change page on component ListMovies\n\n  IncrementPageExploreMovies = () => {\n    const { pageMovie } = this.state;\n    this.setState({ pageMovie: pageMovie + 1 });\n    this.getTopRated();\n  };\n\n  DecrementPageExploreMovies = () => {\n    const { pageMovie } = this.state;\n    this.setState({ pageMovie: pageMovie - 1 });\n    this.getTopRated();\n  };\n\n  // method to add movie to Favorite list\n\n  onClickFavorite = (id) => {\n    const { favorites } = this.state;\n    if (favorites.includes(id)) {\n      favorites.splice(favorites.indexOf(id), 1);\n    } else {\n      favorites.push(id);\n    }\n    this.setState({ favorites }, this.saveStateToLocalStorage);\n  };\n\n  // method to add movie to alreadySeen list\n\n  onClickAlreadySeen = (id) => {\n    const { alreadySeen } = this.state;\n    if (alreadySeen.includes(id)) {\n      alreadySeen.splice(alreadySeen.indexOf(id), 1);\n    } else {\n      alreadySeen.push(id);\n    }\n    this.setState({ alreadySeen }, this.saveStateToLocalStorage);\n  };\n\n  // method for local storage\n\n  saveStateToLocalStorage = () => {\n    localStorage.setItem(\"state\", JSON.stringify(this.state));\n  };\n\n  render() {\n    const { topRated: topRatedMovies } = this.state;\n    const {\n      genres,\n      movies,\n      genresToFilter,\n      isFavorite,\n      favorites,\n      pageMoreMovies,\n      moviesMore,\n      alreadySeen,\n    } = this.state;\n    const {\n      moviesPopular,\n      moviesUpComing,\n      pageMovie,\n      pageMoviePopular,\n      pageMovieUpComing,\n    } = this.state;\n\n    const listFiletred = movies\n      .filter((movie) =>\n        genresToFilter.includes(movie.genre_ids[0] || movie.genre_ids[1])\n      )\n      .map((movie) => movie);\n\n    const upComingFiltred = moviesUpComing\n      .filter((movie) =>\n        genresToFilter.includes(movie.genre_ids[0] || movie.genre_ids[1])\n      )\n      .map((movie) => movie);\n\n    const moviesPopularFiltered = moviesPopular\n      .filter((movie) =>\n        genresToFilter.includes(movie.genre_ids[0] || movie.genre_ids[1])\n      )\n      .map((movie) => movie);\n\n    const moviesMoreFiltered = moviesMore\n      .filter((movie) =>\n        genresToFilter.includes(movie.genre_ids[0] || movie.genre_ids[1])\n      )\n      .map((movie) => movie);\n\n    return (\n      <Router className=\"body\">\n        <FavoritesContext.Provider\n          value={{\n            favorites,\n            alreadySeen,\n            onClickFavorite: this.onClickFavorite,\n            onClickAlreadySeen: this.onClickAlreadySeen,\n          }}\n        >\n          <NavbarComponent />\n          <Switch>\n            <Route exact path=\"/\">\n              {topRatedMovies ? (\n                <Carrousel topRatedMovies={topRatedMovies} />\n              ) : (\n                <p>loading</p>\n              )}\n              <div>\n                {genres ? (\n                  <GenreList\n                    genres={genres}\n                    handleButtonClicked={this.handleButtonClicked}\n                    genresToFilter={genresToFilter}\n                  />\n                ) : (\n                  <p>loading</p>\n                )}\n              </div>\n              <div>\n                <h1 className=\"title\">Explore</h1>\n                {!genresToFilter.length ? (\n                  <ListMovies\n                    pageMovie={pageMovie}\n                    DecrementPageExploreMovies={this.DecrementPageExploreMovies}\n                    IncrementPageExploreMovies={this.IncrementPageExploreMovies}\n                    movies={movies}\n                    genresToFilter={genresToFilter}\n                    isFavorite={isFavorite}\n                    addToFavorite={this.addToFavorite}\n                  />\n                ) : (\n                  <ListMovies\n                    pageMovie={pageMovie}\n                    DecrementPageExploreMovies={this.DecrementPageExploreMovies}\n                    IncrementPageExploreMovies={this.IncrementPageExploreMovies}\n                    movies={listFiletred}\n                    genresToFilter={genresToFilter}\n                    isFavorite={isFavorite}\n                    addToFavorite={this.addToFavorite}\n                  />\n                )}\n              </div>\n              <div>\n                <h1 className=\"title\">Upcoming</h1>\n                {!genresToFilter.length ? (\n                  <UpCommingMovies\n                    pageMovieUpComing={pageMovieUpComing}\n                    IncrementPageUpComingMovies={\n                      this.IncrementPageUpComingMovies\n                    }\n                    DecrementPageUpComingMovies={\n                      this.DecrementPageUpComingMovies\n                    }\n                    moviesUpComing={moviesUpComing}\n                  />\n                ) : (\n                  <UpCommingMovies\n                    pageMovieUpComing={pageMovieUpComing}\n                    IncrementPageUpComingMovies={\n                      this.IncrementPageUpComingMovies\n                    }\n                    DecrementPageUpComingMovies={\n                      this.DecrementPageUpComingMovies\n                    }\n                    moviesUpComing={upComingFiltred}\n                  />\n                )}\n              </div>\n              <div>\n                <h1 className=\"title\">Popular</h1>\n                {!genresToFilter.length ? (\n                  <PopularMovies\n                    pageMoviePopular={pageMoviePopular}\n                    IncrementPagePopularMovies={this.IncrementPagePopularMovies}\n                    DecrementPagePopularMovies={this.DecrementPagePopularMovies}\n                    moviesPopular={moviesPopular}\n                  />\n                ) : (\n                  <PopularMovies\n                    pageMoviePopular={pageMoviePopular}\n                    IncrementPagePopularMovies={this.IncrementPagePopularMovies}\n                    DecrementPagePopularMovies={this.DecrementPagePopularMovies}\n                    moviesPopular={moviesPopularFiltered}\n                  />\n                )}\n              </div>\n              <div>\n                <h1 className=\"title\">More</h1>\n                {!genresToFilter.length ? (\n                  <MoreMovies\n                    pageMoreMovies={pageMoreMovies}\n                    IncrementPageMoreMovies={this.IncrementPageMoreMovies}\n                    DecrementPageMoreMovies={this.DecrementPageMoreMovies}\n                    moviesMore={moviesMore}\n                  />\n                ) : (\n                  <MoreMovies\n                    pageMoreMovies={pageMoreMovies}\n                    IncrementPageMoreMovies={this.IncrementPageMoreMovies}\n                    DecrementPageMoreMovies={this.DecrementPageMoreMovies}\n                    moviesMore={moviesMoreFiltered}\n                  />\n                )}\n              </div>\n              <Footer />\n            </Route>\n            <Route exact path=\"/search\">\n              <Search />\n            </Route>\n            <Route exact path=\"/random\">\n              <Random />\n            </Route>\n            <Route exact path=\"/myprofile/mylist\">\n              <MyList favorites={favorites} alreadySeen={alreadySeen} />\n            </Route>\n            <Route exact path=\"/myprofile/contact\">\n              <Contact />\n            </Route>\n            <Route exact path=\"/myprofile/settings\">\n              <Settings />\n            </Route>\n            <Route exact path=\"/movie/:id\" component={FicheFilm} />\n          </Switch>\n        </FavoritesContext.Provider>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}